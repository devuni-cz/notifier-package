name: Stale

on:
  schedule:
    - cron: '0 6 * * *' # Every day at 6:00 UTC

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    name: Close stale issues & PRs
    runs-on: ubuntu-latest

    steps:
      - uses: actions/stale@v9
        with:
          stale-issue-message: >
            This issue has been automatically marked as stale because it has not had
            any activity for 60 days. It will be closed in 14 days if no further activity occurs.
          stale-pr-message: >
            This PR has been automatically marked as stale because it has not had
            any activity for 30 days. It will be closed in 7 days if no further activity occurs.
          close-issue-message: 'Closed due to inactivity. Feel free to reopen if still relevant.'
          close-pr-message: 'Closed due to inactivity. Feel free to reopen if still relevant.'
          days-before-issue-stale: 60
          days-before-pr-stale: 30
          days-before-issue-close: 14
          days-before-pr-close: 7
          stale-issue-label: stale
          stale-pr-label: stale
          exempt-issue-labels: pinned,security,bug
          exempt-pr-labels: pinned,security
